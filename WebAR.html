<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebAR Restaurant Menu</title>

    <!-- Load A-Frame and AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.7.2/aframe/build/aframe-ar.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">

    <a-scene embedded arjs="sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
        
        <!-- Image Marker (menu card) -->
        <a-marker type="pattern" url="https://harshIsekai.github.io/WebAR-Markers/menu.patt">
            <!-- Main Menu Card -->
            <a-image src="assets/images/menu-card.png"
                position="0 0.5 0"
                width="0.8"
                height="0.5"
                class="clickable"
                event-handler="on: click; action: animate">
            </a-image>

            <!-- Menu Items -->
            <a-entity position="-0.5 0.1 0">
                <a-image src="assets/images/burger.png" width="0.3" height="0.3"
                    onclick="showInfo('burger')" class="clickable">
                </a-image>
                <a-text value="Burger" position="0 -0.2 0" align="center"></a-text>
            </a-entity>

            <a-entity position="0.5 0.1 0">
                <a-image src="assets/images/pizza.png" width="0.3" height="0.3"
                    onclick="showInfo('pizza')" class="clickable">
                </a-image>
                <a-text value="Pizza" position="0 -0.2 0" align="center"></a-text>
            </a-entity>
        </a-marker>

        <!-- Camera Setup -->
        <a-entity camera></a-entity>

        <!-- Cursor for Interactions -->
        <a-cursor rayOrigin="mouse"></a-cursor>

    </a-scene>

    <script>
        // Handle menu item clicks
        function showInfo(item) {
            const info = {
                burger: "Juicy beef burger with cheese and veggies - $12.99",
                pizza: "Wood-fired pepperoni pizza - $15.99"
            };
            alert(info[item]);
        }

        // Add animation to main menu card
        AFRAME.registerComponent('event-handler', {
            init: function() {
                this.el.addEventListener('click', () => {
                    this.el.emit('animate');
                });
            }
        });
    </script>

    <style>
        .clickable {
            cursor: pointer;
        }
        .clickable:hover {
            opacity: 0.8;
        }
    </style>

</body>
</html>
